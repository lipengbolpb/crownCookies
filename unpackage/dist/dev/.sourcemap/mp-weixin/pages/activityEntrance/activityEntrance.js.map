{"version":3,"sources":["webpack:///D:/v工作/git/xcx/crownCookies/main.js","webpack:///D:/v工作/git/xcx/crownCookies/pages/activityEntrance/activityEntrance.vue?b571","webpack:///D:/v工作/git/xcx/crownCookies/pages/activityEntrance/activityEntrance.vue?d056","webpack:///D:/v工作/git/xcx/crownCookies/pages/activityEntrance/activityEntrance.vue?f47d","webpack:///D:/v工作/git/xcx/crownCookies/pages/activityEntrance/activityEntrance.vue?f3ed","webpack:///D:/v工作/git/xcx/crownCookies/pages/activityEntrance/activityEntrance.vue","webpack:///D:/v工作/git/xcx/crownCookies/pages/activityEntrance/activityEntrance.vue?7a6c","webpack:///D:/v工作/git/xcx/crownCookies/pages/activityEntrance/activityEntrance.vue?1e82"],"names":["createPage","Page","name","components","activityRule","getCash","wxOpenSetting","customFooterBar","data","staticUrl","config","activityRuleSource","activityRuleIsShow","getCashIsShow","getCashIsStartAnimation","currentMoney","isShowGguidance","isStartAnimation","isShowluckDrawBtn","crownCookiesAni","baifenbaiAni","fontMesAni","choujiangAni","focusGguidanceAni","openid","isShowCustomLocation","wxOpenSettingIsShow","wxOpenSettingIsStartAnimation","sweepstr","cusFooterBarIsShow","giveSpackTxStatusArr","id","businessCode","title","content","codeType","computed","isOpenAdaptation","windowHeight","computedGetOpenid","that","getUserDataFun","backUserData","isHasPhoneNumber","backStorage","uni","getStorageSync","phoneNumber","onLoad","options","console","log","getStorage","key","success","sto","stoData","reply","checkUserLocation","fail","err","setTimeout","$refs","activityRuleChild","isStartAnimationFun","onReady","startInitAnimation","onShow","onShareAppMessage","res","from","target","path","imageUrl","imgUrl","onHide","methods","showGetCash","getCashSuccessAni","getCashChild","customFooterBarChild","startFocusGguidanceAnimation","onLoadInit","LocationStatus","userLocation","getSweepQrcode","longitude","latitude","then","Array","status","locationData","returnUserData","userData","checkSessionStatus","uinfo","xcxCode","backOpenidData","wosOpenSetting","openSetting","complete","crownCookiesAnimation","wx","createAnimation","duration","timingFunction","delay","opacity","step","baifenbaiAnimation","translateX","fontMesAnimation","export","startChoujiangAnimation","choujiangAnimation","scale","focusGguidanceAnimation","updateActivityRuleColse","setStorage","WxOpenSettingColse","getPhoneNumber","e","backDetail","detail","errMsg","lastIndexOf","session_key","backData","sendParams","nickname","headimgurl","redirectTo","url","switchTab","showGguidanceFun","redirectToUrl"],"mappings":"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","file":"pages/activityEntrance/activityEntrance.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/activityEntrance/activityEntrance.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./activityEntrance.vue?vue&type=template&id=32d177dc&scoped=true&\"\nvar renderjs\nimport script from \"./activityEntrance.vue?vue&type=script&lang=js&\"\nexport * from \"./activityEntrance.vue?vue&type=script&lang=js&\"\nimport style0 from \"./activityEntrance.vue?vue&type=style&index=0&id=32d177dc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32d177dc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"v工作/git/xcx/crownCookies/pages/activityEntrance/activityEntrance.vue\"\nexport default component.exports","export * from \"-!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activityEntrance.vue?vue&type=template&id=32d177dc&scoped=true&\"","var components = {\n  wxOpenSetting: function() {\n    return import(\n      /* webpackChunkName: \"components/wx-open-setting/wx-open-setting\" */ \"@/components/wx-open-setting/wx-open-setting.vue\"\n    )\n  },\n  customFooterBar: function() {\n    return import(\n      /* webpackChunkName: \"components/custom-footer-bar/custom-footer-bar\" */ \"@/components/custom-footer-bar/custom-footer-bar.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activityEntrance.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activityEntrance.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport { get, post, config } from '@/utils/api.js';\r\nimport { getLocation, analysisMobile, checkSession, getCode, getOpenid, getSettingLocation } from '@/common/getWxUserInfor.js';\r\nimport { sweepQrcode, giveSpackTx } from '@/common/getData.js';\r\nimport { judgeBusinessCode, filterArr } from '@/common/basicsFun.js';\r\nimport { activityRule } from '@/components/activityRule.vue'; // 活动规则\r\nimport { wxOpenSetting } from '@/components/wx-open-setting/wx-open-setting.vue'; // 开启 位置 引导\r\nimport { getCash } from 'pages/getCash/getCash.vue'; // 获得红包\r\nimport { customFooterBar } from '@/components/custom-footer-bar/custom-footer-bar.vue'; // 自定义页脚\r\nexport default {\r\n\tname: 'activityEntrance',\r\n\tcomponents: {\r\n\t\tactivityRule,\r\n\t\tgetCash,\r\n\t\twxOpenSetting,\r\n\t\tcustomFooterBar\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstaticUrl: config.staticUrl,\r\n\t\t\tactivityRuleSource: '1', // 活动规则 页面来源\r\n\t\t\tactivityRuleIsShow: false, // 活动规则  是否展示\r\n\t\t\tgetCashIsShow: false, // 中出红包 是否显示\r\n\t\t\tgetCashIsStartAnimation: false, //中出红包  是否 开启动画\r\n\t\t\tcurrentMoney: '0.00', //中出红包 中出金额\r\n\t\t\tisShowGguidance: false, //是否展示 引导关注 公众号 logo\r\n\t\t\tisStartAnimation: true, // 本页面 是否开启动画\r\n\t\t\tisShowluckDrawBtn: false, //是否 显示 抽奖按钮\r\n\t\t\t// isHasPhoneNumber: false, //是否 已获取手机号\r\n\t\t\tcrownCookiesAni: '', //饼干 动画\r\n\t\t\tbaifenbaiAni: '', //百分比 动画\r\n\t\t\tfontMesAni: '', //饼干动画\r\n\t\t\tchoujiangAni: '', //抽奖按钮 动画\r\n\t\t\tfocusGguidanceAni: '', // 引导关注 公众号图片\r\n\t\t\topenid: '', // 拿 小程序code换取最终要使用的 openId\r\n\t\t\tisShowCustomLocation: false, // 是否展示 自定义 定位引导\r\n\t\t\twxOpenSettingIsShow: false, //是否展示 位置授权\r\n\t\t\twxOpenSettingIsStartAnimation: false, // 位置授权 是否展示动画\r\n\t\t\tsweepstr: 'JYJ9WM6PX9FU',\r\n\t\t\tcusFooterBarIsShow: false, //是否展示 页面tab （显示条件：出现 获得红包动效 ）\r\n\t\t\tgiveSpackTxStatusArr: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tbusinessCode: '1',\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '您的红包金额不足，再喝几瓶攒够1元发红包！'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tbusinessCode: '2',\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '呜呜，系统开了个小差，请稍后重试！'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 3,\r\n\t\t\t\t\tbusinessCode: '3',\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '根据国家法规对支付服务实名制的要求，请到微信中进行实名认证\\n实名认证方法：进入【微信】->【我】->【钱包】->【···】->【支付管理】，即可实名认证。'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 4,\r\n\t\t\t\t\tbusinessCode: '4',\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '提现处理中，请稍后查看详细记录'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 5,\r\n\t\t\t\t\tbusinessCode: '-1',\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '系统升级中'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 5,\r\n\t\t\t\t\tbusinessCode: '-2',\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '提现操作过于频繁'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tcodeType:\"1\",\r\n\t\t};\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\t// 当窗口 高度 大于800 是 重新 计算 盒子的上边距\r\n\t\tisOpenAdaptation() {\r\n\t\t\tif (this.windowHeight > 800) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 获取 接口需要的 openid session_key\r\n\t\tasync computedGetOpenid() {\r\n\t\t\tconst that = this;\r\n\t\t\tconst backUserData = await that.getUserDataFun();\r\n\t\t\treturn backUserData.openid || '';\r\n\t\t},\r\n\r\n\t\t// 当 显示抽奖按钮时 判断缓存中 是否存在 手机号\r\n\t\tisHasPhoneNumber() {\r\n\t\t\tconst backStorage = uni.getStorageSync('userMobileData').phoneNumber;\r\n\t\t\tif (backStorage) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tasync onLoad(options) {\r\n\t\tconsole.log('options');\r\n\t\tconsole.log(options);\r\n\r\n\t\tthis.sweepstr = options.sweepstr;\r\n\t\t// 串码类型 扫码串码1 输入串码2\r\n\t\tthis.codeType = options.codeType || '1';\r\n\t\t/**\r\n\t\t * 判断 缓存中 是否 存在 isAgreeRule\r\n\t\t * 存在并且为true   表示已同意活动规则直接检查缓存中用户位置信息\r\n\t\t * 不存在        显示 活动规则 （关闭活动规则或者点击同意活动规则检查缓存中用户位置信息）\r\n\t\t */\r\n\t\tconst that = this;\r\n\r\n\t\tuni.getStorage({\r\n\t\t\tkey: 'isAgreeRule',\r\n\t\t\tsuccess(sto) {\r\n\t\t\t\tif (sto.data) {\r\n\t\t\t\t\t// 串码类型 扫码串码1 输入串码2\r\n\t\t\t\t\tconsole.log('串码类型 扫码串码1 输入串码2 ');\r\n\t\t\t\t\tconsole.log(options.codeType);\r\n\t\t\t\t\tif (options.codeType && options.codeType == 2) {\r\n\t\t\t\t\t\tconsole.log('串码类型 扫码串码1 输入串码222 ');\r\n\t\t\t\t\t\t// 从 输入串码 过来 中区红包 显示 抽奖按钮\r\n\t\t\t\t\t\tthat.isShowluckDrawBtn = true;\r\n\t\t\t\t\t\t// 获取红包 展示中奖 金额\r\n\r\n\t\t\t\t\t\tuni.getStorage({\r\n\t\t\t\t\t\t\t// key:'serialCodeData',\r\n\t\t\t\t\t\t\tkey: 'sweepQrcodeData',\r\n\t\t\t\t\t\t\tsuccess(stoData) {\r\n\t\t\t\t\t\t\t\tconst currentMoney = stoData.data.reply.currentMoney || '0.00';\r\n\t\t\t\t\t\t\t\tthat.currentMoney = currentMoney;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 走扫码的逻辑 检测位置微信 调用接口\r\n\t\t\t\t\t\tthat.checkUserLocation();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail(err) {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthat.activityRuleSource = '1';\r\n\t\t\t\t\tthat.activityRuleIsShow = true;\r\n\t\t\t\t\t// 活动规则 启动动画\r\n\t\t\t\t\tthat.$refs.activityRuleChild.isStartAnimationFun(true);\r\n\t\t\t\t}, 2000);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tonReady() {\r\n\t\t// 开启本页面 动效\r\n\t\tif (this.isStartAnimation) {\r\n\t\t\tthis.startInitAnimation();\r\n\t\t}\r\n\t},\r\n\tasync onShow() {\r\n\t\tthis.openid = await this.computedGetOpenid;\r\n\t\tconsole.log('openid---------------' + this.openid);\r\n\t\t// 是否 从输入串码页面中出红包 是：显示动效 和 抽奖按钮\r\n\t},\r\n\t/**\r\n\t * 用户点击右上角分享\r\n\t */\r\n\tonShareAppMessage(res) {\r\n\t\tif (res.from === 'button') {\r\n\t\t\t// 来自页面内分享按钮\r\n\t\t\tconsole.log(res.target);\r\n\t\t}\r\n\t\treturn {\r\n\t\t\ttitle: '青岛啤酒',\r\n\t\t\tpath: '/pages/index/index',\r\n\t\t\timageUrl: this.imgUrl + 'share.png'\r\n\t\t};\r\n\t},\r\n\tonHide() {\r\n\t\t// 弹出自定义 位置引导弹窗\r\n\t\tthis.wxOpenSettingIsShow = false;\r\n\t},\r\n\tmethods: {\r\n\t\t// 显示 中出红包动效\r\n\t\tshowGetCash() {\r\n\t\t\t// 调用提现接口\r\n\t\t\t// 获取红包成功后 动效开启\r\n\t\t\tthis.getCashSuccessAni();\r\n// \t\t\tgiveSpackTx().then(businessCode => {\r\n// \t\t\t\tconsole.log('giveSpackTx');\r\n// \t\t\t\tconsole.log(businessCode);\r\n// \t\t\t\tif (businessCode == 0) {\r\n// \t\t\t\t\t// 获取红包成功后 动效开启\r\n// \t\t\t\t\tthis.getCashSuccessAni();\r\n// \t\t\t\t} else {\r\n// \t\t\t\t\tconst filterData = filterArr('businessCode', businessCode, this.giveSpackTxStatusArr)[0];\r\n// \t\t\t\t\tconsole.log('filterArr____________');\r\n// \t\t\t\t\tconsole.log(filterData);\r\n// \t\t\t\t\tuni.showModal({\r\n// \t\t\t\t\t\ttitle: filterData.title,\r\n// \t\t\t\t\t\tcontent: filterData.content\r\n// \t\t\t\t\t});\r\n// \t\t\t\t}\r\n// \t\t\t});\r\n\t\t},\r\n\t\t// 获取红包成功后 动效开启\r\n\t\tgetCashSuccessAni() {\r\n\t\t\tthis.isShowluckDrawBtn = false; //隐藏抽奖按钮\r\n\t\t\tthis.getCashIsShow = true;\r\n\t\t\tthis.getCashIsStartAnimation = true;\r\n\t\t\t// 获得红包 启动动画\r\n\t\t\tthis.$refs.getCashChild.isStartAnimationFun(true);\r\n\t\t\tthis.isShowGguidance = true; // 显示 关注公众号引导\r\n\t\t\tthis.cusFooterBarIsShow = true; // 显示 自定义页面 页脚\r\n\t\t\tthis.$refs.customFooterBarChild.isStartAnimationFun(true); //开启tab动效\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.startFocusGguidanceAnimation(); // 显示 关注公众号引导 dongxian\r\n\t\t\t}, 100);\r\n\t\t},\r\n\t\tasync onLoadInit() {},\r\n\t\t// 验证缓存中 是否 存在用户位置\r\n\t\tasync checkUserLocation() {\r\n\t\t\t/**\r\n\t\t\t * 获从缓存中  获取 用户位置 信息\r\n\t\t\t * 有 直接调用 接口\r\n\t\t\t * 没有 调用（）   验证用户位置授权状态 2未操作 1已经授权  0拒绝授权\r\n\t\t\t * \t\t 0 ： 弹出自定义引导，引导用户 开启位置授权（openSetting）\r\n\t\t\t * \t\t 1 :  一般不会存在 缓存中没有数据 然后 已经授权 如果存在还是调用 微信授权\r\n\t\t\t * \t\t 2 :  继续 调用微信授权\r\n\t\t\t */\r\n\t\t\tconst that = this;\r\n\t\t\tconst LocationStatus = await getSettingLocation();\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'userLocation',\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tconst userLocation = res.data;\r\n\t\t\t\t\t// 调用接口\r\n\t\t\t\t\tthat.getSweepQrcode(userLocation.longitude, userLocation.latitude, that.sweepstr);\r\n\t\t\t\t},\r\n\t\t\t\tfail(err) {\r\n\t\t\t\t\tif (LocationStatus == 0) {\r\n\t\t\t\t\t\t// 弹出自定义 位置引导弹窗\r\n\t\t\t\t\t\tthat.wxOpenSettingIsShow = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 弹出 获取位置\r\n\t\t\t\t\t\tgetLocation().then((...res) => {\r\n\t\t\t\t\t\t\tconst [status, locationData] = Array.from(res[0]);\r\n\t\t\t\t\t\t\t// 调用接口\r\n\t\t\t\t\t\t\tthat.getSweepQrcode(locationData.longitude, locationData.latitude, that.sweepstr);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 验证缓存中 是否 存在用户信息（openid、sessiong_key）\r\n\t\tasync getUserDataFun() {\r\n\t\t\t/**\r\n\t\t\t * 获从缓存中  获取 用户信息（openid，session_key） 信息\r\n\t\t\t * 存在\r\n\t\t\t * \t\t验证session（checkSessionStatus） 是否过期\r\n\t\t\t * \t\t\t未过期 直接调用 返回 用户信息\r\n\t\t\t * \t\t\t过期   直接调用 重新调用获取小程序 code （getCode）拿到code 获取用户信息（getOpenid）\r\n\t\t\t * 没有 调用（）   验证用户位置授权状态 2未操作 1已经授权  0拒绝授权\r\n\t\t\t * \t\t 0 ： 弹出自定义引导，引导用户 开启位置授权（openSetting）\r\n\t\t\t * \t\t 1 :  一般不会存在 缓存中没有数据 然后 已经授权 如果存在还是调用 微信授权\r\n\t\t\t * \t\t 2 :  继续 调用微信授权\r\n\t\t\t */\r\n\t\t\tlet returnUserData = '';\r\n\t\t\tconst that = this;\r\n\t\t\t//用户缓存信息\r\n\t\t\tconst userData = uni.getStorageSync('userData');\r\n\t\t\tif (userData) {\r\n\t\t\t\t// 如果用户信息存在 判断 session 是否过期 0未过期 1已过期\r\n\t\t\t\tconst checkSessionStatus = await checkSession();\r\n\t\t\t\tif (checkSessionStatus == 0) {\r\n\t\t\t\t\treturnUserData = userData.uinfo;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 获取 小程序 code 请求接口换取 openid session_key\r\n\t\t\t\t\tconst xcxCode = await getCode();\r\n\t\t\t\t\t// 拿小程序 code 换取 openid\r\n\t\t\t\t\tconst backOpenidData = await getOpenid(xcxCode, 'hgqq');\r\n\t\t\t\t\tif (backOpenidData.uinfo) {\r\n\t\t\t\t\t\treturnUserData = backOpenidData.uinfo;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// 获取 小程序 code 请求接口换取 openid\r\n\t\t\t\tconst xcxCode = await getCode();\r\n\t\t\t\tconst backOpenidData = await getOpenid(xcxCode, 'hgqq');\r\n\t\t\t\tif (backOpenidData.uinfo) {\r\n\t\t\t\t\treturnUserData = backOpenidData.uinfo;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn returnUserData;\r\n\t\t},\r\n\t\twosOpenSetting() {\r\n\t\t\t//设置里打开授权地理位置\r\n\t\t\t// this.againClick = true;\r\n\t\t\tuni.openSetting({\r\n\t\t\t\tcomplete: res => {\r\n\t\t\t\t\t// 统一在onshow执行地址位置判断\r\n\t\t\t\t\t// this.getLocation();\r\n\t\t\t\t\t// return false\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 开始动画\r\n\t\tstartInitAnimation() {\r\n\t\t\tconst that = this;\r\n\t\t\t// 饼干动画 从无到有\r\n\t\t\tconst crownCookiesAnimation = wx.createAnimation({\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\ttimingFunction: 'ease',\r\n\t\t\t\tdelay: 500\r\n\t\t\t});\r\n\t\t\tcrownCookiesAnimation.opacity(1).step();\r\n\r\n\t\t\t// 百分百 中奖logo 从左向右滑出\r\n\t\t\tconst baifenbaiAnimation = wx.createAnimation({\r\n\t\t\t\tduration: 500,\r\n\t\t\t\ttimingFunction: 'ease',\r\n\t\t\t\tdelay: 500\r\n\t\t\t});\r\n\t\t\tbaifenbaiAnimation.translateX(0).step();\r\n\r\n\t\t\t// 提示文字动画\r\n\t\t\tconst fontMesAnimation = wx.createAnimation({\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\ttimingFunction: 'ease',\r\n\t\t\t\tdelay: 1400\r\n\t\t\t});\r\n\t\t\tfontMesAnimation.opacity(1).step();\r\n\t\t\tthat.baifenbaiAni = baifenbaiAnimation.export();\r\n\t\t\tthat.crownCookiesAni = crownCookiesAnimation.export();\r\n\t\t\tthat.fontMesAni = fontMesAnimation.export();\r\n\t\t},\r\n\t\t// 开始 抽奖按钮 动画\r\n\t\tstartChoujiangAnimation() {\r\n\t\t\tconst that = this;\r\n\t\t\t// 抽奖按钮 放大缩小\r\n\t\t\tconst choujiangAnimation = wx.createAnimation({\r\n\t\t\t\tduration: 200,\r\n\t\t\t\ttimingFunction: 'ease',\r\n\t\t\t\tdelay: 10\r\n\t\t\t});\r\n\t\t\tchoujiangAnimation\r\n\t\t\t\t.scale(1.2, 1.2)\r\n\t\t\t\t.step()\r\n\t\t\t\t.scale(1, 1)\r\n\t\t\t\t.step();\r\n\t\t\tthat.choujiangAni = choujiangAnimation.export();\r\n\t\t},\r\n\t\t// 开始 关注 动画\r\n\t\tstartFocusGguidanceAnimation() {\r\n\t\t\tconst that = this;\r\n\t\t\t// 抽奖按钮 放大缩小\r\n\t\t\tconst focusGguidanceAnimation = wx.createAnimation({\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\ttimingFunction: 'ease',\r\n\t\t\t\tdelay: 1500\r\n\t\t\t});\r\n\t\t\tfocusGguidanceAnimation.opacity(1).step();\r\n\t\t\tthat.focusGguidanceAni = focusGguidanceAnimation.export();\r\n\t\t},\r\n\t\t// 关闭 活动规则 弹窗\r\n\t\tupdateActivityRuleColse(data) {\r\n\t\t\tconst that = this;\r\n\t\t\tthat.activityRuleIsShow = false;\r\n\t\t\t//是否同意 活动规则 如果 同意一下 存入 缓存 不在弹出\r\n\t\t\tuni.setStorage({\r\n\t\t\t\tkey: 'isAgreeRule',\r\n\t\t\t\tdata: true\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (that.codeType && that.codeType == 2) {\r\n\t\t\t\tconsole.log('串码类型 扫码串码1 输入串码222 ');\r\n\t\t\t\t// 从 输入串码 过来 中区红包 显示 抽奖按钮\r\n\t\t\t\tthat.isShowluckDrawBtn = true;\r\n\t\t\t\t// 获取红包 展示中奖 金额\r\n\t\t\t\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\t// key:'serialCodeData',\r\n\t\t\t\t\tkey: 'sweepQrcodeData',\r\n\t\t\t\t\tsuccess(stoData) {\r\n\t\t\t\t\t\tconst currentMoney = stoData.data.reply.currentMoney || '0.00';\r\n\t\t\t\t\t\tthat.currentMoney = currentMoney;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// 走扫码的逻辑 检测位置微信 调用接口\r\n\t\t\t\tthat.checkUserLocation();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t// 关闭 授权位置\r\n\t\tWxOpenSettingColse(data) {\r\n\t\t\tconst that = this;\r\n\t\t\tthat.wxOpenSettingIsShow = false;\r\n\t\t},\r\n\t\t// 获取手机号\r\n\t\tasync getPhoneNumber(e) {\r\n\t\t\tconst backDetail = e.detail;\r\n\t\t\tif (backDetail.errMsg.lastIndexOf('ok') != -1) {\r\n\t\t\t\t//成功getPhone\r\n\t\t\t\t// this.mobileToast = false; //再次授权手机hide\r\n\t\t\t\tconst userData = uni.getStorageSync('userData');\r\n\t\t\t\t//解析手机号\r\n\t\t\t\tif (userData.uinfo.session_key) {\r\n\t\t\t\t\t// this.parsePhone(e) //解析手机号码\r\n\t\t\t\t\tconst session_key = userData.uinfo.session_key;\r\n\t\t\t\t\tanalysisMobile(session_key, backDetail).then(backData => {});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst backUserData = await that.getUserDataFun();\r\n\t\t\t\t\tconst session_key = backUserData.session_key;\r\n\t\t\t\t\tanalysisMobile(session_key, backDetail);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//取消\r\n\t\t\t\t// this.mobileToast = true;\r\n\t\t\t}\r\n\t\t\t// 无论是否同意 获取手机号 都调用 展示 红包方法\r\n\t\t\tthis.showGetCash();\r\n\t\t},\r\n\t\t//获取 扫码接口 返回信息 并处理\r\n\t\tgetSweepQrcode(longitude = '00', latitude = '00', sweepstr = '') {\r\n\t\t\tconst that = this;\r\n\t\t\tvar sendParams = {\r\n\t\t\t\topenid: that.openid,\r\n\t\t\t\tsweepstr: sweepstr,\r\n\t\t\t\tlongitude: longitude, //\"经度\"\r\n\t\t\t\tlatitude: latitude, //\"纬度\"\r\n\t\t\t\tnickname: '',\r\n\t\t\t\theadimgurl: ''\r\n\t\t\t};\r\n\t\t\t// 调用扫码接口\r\n\t\t\tsweepQrcode(sendParams)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tconst currentMoney = res.reply.currentMoney || '0.00';\r\n\t\t\t\t\tthat.currentMoney = currentMoney;\r\n\t\t\t\t\tconsole.log('获取 扫码接口 返回信息 并处理');\r\n\t\t\t\t\treturn judgeBusinessCode(res);\r\n\t\t\t\t})\r\n\t\t\t\t.then(\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tif (res == 0) {\r\n\t\t\t\t\t\t\t// 显示 抽奖按钮\r\n\t\t\t\t\t\t\tthat.isShowluckDrawBtn = true;\r\n\t\t\t\t\t\t\tthat.startChoujiangAnimation();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: res\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\terr => {\r\n\t\t\t\t\t\t// 跳转 首页\r\n\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\turl: err\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t},\r\n\t\t// 跳转到首页 显示 引导关注\r\n\t\tshowGguidanceFun() {\r\n\t\t\tconst redirectToUrl = '../index/index';\r\n\t\t\tuni.setStorage({\r\n\t\t\t\tkey: 'businessCode',\r\n\t\t\t\tdata: 'isShowGguidance'\r\n\t\t\t});\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: redirectToUrl\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activityEntrance.vue?vue&type=style&index=0&id=32d177dc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../办公软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activityEntrance.vue?vue&type=style&index=0&id=32d177dc&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1595325153772\n      var cssReload = require(\"D:/办公软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}